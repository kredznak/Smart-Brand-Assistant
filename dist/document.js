const r=[{id:"ig-post",name:"IG Post",width:1080,height:1080,safeZone:{x:60,y:60,width:960,height:960}},{id:"ig-story",name:"IG Story",width:1080,height:1920,safeZone:{x:60,y:200,width:960,height:1520}},{id:"flyer",name:"Flyer",width:816,height:1056,safeZone:{x:48,y:48,width:720,height:960}},{id:"email-header",name:"Email Header",width:1200,height:400,safeZone:{x:40,y:40,width:1120,height:320}},{id:"presentation",name:"Presentation",width:1920,height:1080,safeZone:{x:80,y:80,width:1760,height:920}}];async function d(i,o){const e=window?.express?.document;if(e?.transaction){await e.transaction(async()=>{if(e.setThemeVariables){const t={};for(const a of i.palette)t[`--sba-${a.role}`]=a.hex;await e.setThemeVariables(t)}if(e.queryTextNodes&&e.setTextStyle){const t=await e.queryTextNodes({all:!0});for(const a of t)await e.setTextStyle(a,{fontFamily:i.fonts.primary.family})}if(i.logo?.url&&e.placeImage&&e.getCanvasSize){const{width:t,height:a}=await e.getCanvasSize(),n=r.find(h=>h.width===t&&h.height===a)?.safeZone??{x:t*.05,y:a*.05,width:t*.3,height:a*.15};await e.placeImage(i.logo.url,{x:n.x,y:n.y,width:n.width,height:n.height})}});return}console.log("Applying Brand Kit to document (stub)",i),await new Promise(t=>setTimeout(t,300))}window.addEventListener("message",async i=>{const o=i.data;if(!(!o||typeof o!="object")&&o.type==="SBA_APPLY_BRAND_KIT"){const s=o.payload;try{await d(s,{targets:"all"}),window.parent.postMessage({type:"SBA_APPLY_DONE",correlationId:o.correlationId},"*")}catch(e){console.error(e),window.parent.postMessage({type:"SBA_APPLY_ERROR",error:e.message,correlationId:o.correlationId},"*")}}});
//# sourceMappingURL=document.js.map
