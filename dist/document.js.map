{"version":3,"file":"document.js","sources":["../src/editor/applyBrandKit.ts","../src/document.ts"],"sourcesContent":["import { type BrandKit } from '../state/types.js';\n\nexport async function applyBrandKitToDocument(kit: BrandKit, _opts: { targets: 'all' }): Promise<void> {\n  // In real Express Document Model, we would traverse nodes and apply fills/text styles.\n  // Here we simulate with console logs to keep Playground happy without privileges.\n  console.log('Applying Brand Kit to document', kit);\n  await new Promise(r => setTimeout(r, 300));\n}\n\n","import { applyBrandKitToDocument } from './editor/applyBrandKit.js';\nimport { type BrandKit } from './state/types.js';\n\n// Document-side message handling (runs in editor context in Playground)\nwindow.addEventListener('message', async (ev: MessageEvent) => {\n  const data = ev.data;\n  if (!data || typeof data !== 'object') return;\n  if (data.type === 'SBA_APPLY_BRAND_KIT') {\n    const kit: BrandKit = data.payload;\n    try {\n      await applyBrandKitToDocument(kit, { targets: 'all' });\n      window.parent.postMessage({ type: 'SBA_APPLY_DONE', correlationId: data.correlationId }, '*');\n    } catch (e) {\n      console.error(e);\n      window.parent.postMessage({ type: 'SBA_APPLY_ERROR', error: (e as Error).message, correlationId: data.correlationId }, '*');\n    }\n  }\n});\n\n"],"names":["applyBrandKitToDocument","kit","_opts","r","ev","data","e"],"mappings":"AAEA,eAAsBA,EAAwBC,EAAeC,EAA0C,CAGrG,QAAQ,IAAI,iCAAkCD,CAAG,EACjD,MAAM,IAAI,QAAQE,GAAK,WAAWA,EAAG,GAAG,CAAC,CAC3C,CCHA,OAAO,iBAAiB,UAAW,MAAOC,GAAqB,CAC7D,MAAMC,EAAOD,EAAG,KAChB,GAAI,GAACC,GAAQ,OAAOA,GAAS,WACzBA,EAAK,OAAS,sBAAuB,CACvC,MAAMJ,EAAgBI,EAAK,QAC3B,GAAI,CACF,MAAML,EAAwBC,EAAK,CAAE,QAAS,MAAO,EACrD,OAAO,OAAO,YAAY,CAAE,KAAM,iBAAkB,cAAeI,EAAK,aAAA,EAAiB,GAAG,CAC9F,OAASC,EAAG,CACV,QAAQ,MAAMA,CAAC,EACf,OAAO,OAAO,YAAY,CAAE,KAAM,kBAAmB,MAAQA,EAAY,QAAS,cAAeD,EAAK,aAAA,EAAiB,GAAG,CAC5H,CACF,CACF,CAAC"}